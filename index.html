<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Top Secret</title>

<style>
body{
 margin:0;
 font-family:Georgia, serif;
 overflow:hidden;
 background:black;
 text-align:center;
}

/* intro */
#intro{
 position:fixed;
 inset:0;
 background:radial-gradient(circle,#2b003a,black);
 display:flex;
 justify-content:center;
 align-items:center;
 z-index:10;
 animation:fadeIntro 3s forwards;
}

@keyframes fadeIntro{
 0%,80%{opacity:1}
 100%{opacity:0;visibility:hidden}
}

/* password */
#lock{
 position:fixed;
 inset:0;
 background:#111;
 display:flex;
 flex-direction:column;
 justify-content:center;
 align-items:center;
 z-index:20;
 color:white;
}

#lock input{
 margin-top:10px;
 padding:8px;
}

#lock button{
 margin-top:10px;
 position:static;
}

/* pink area */
#main{
 display:none;
 height:100vh;
 background:linear-gradient(135deg,#ff9ec4,#ffd6e8);
 color:black;
 position:relative;
 overflow:hidden;
}

/* layout */
#content{
 position:relative;
 z-index:2;
}

#row{
 display:flex;
 justify-content:center;
 align-items:center;
 gap:20px;
 margin-top:40px;
}

img{
 width:240px;
 border-radius:20px;
}

/* buttons */
button{
 font-size:20px;
 padding:12px 25px;
 border:none;
 border-radius:10px;
 cursor:pointer;
}

#yesBtn{
 background:#ff2e63;
 color:white;
}

#noBtn{
 position:absolute;
 background:#333;
 color:white;
 z-index:3;
}

/* message */
#message{
 font-size:34px;
 margin-top:30px;
 white-space:pre-line;
 color:#ff006a;
 font-weight:bold;
 text-shadow:0 0 10px #fff,0 0 25px #ff69b4;
}

/* particle layer */
#fx{
 position:absolute;
 inset:0;
 pointer-events:none;
 z-index:1;
}

.p{
 position:absolute;
 font-size:42px;
 animation:fall 7s linear forwards;
}

@keyframes fall{
 to{transform:translateY(110vh) rotate(360deg);opacity:0}
}
</style>
</head>

<body>

<div id="intro"><h1>VERY IMPORTANT AND CONFIDENTIAL....</h1></div>

<div id="lock">
<h2>Enter password üîí</h2>
<input id="pass" type="password">
<button onclick="unlock()">Enter</button>
</div>

<div id="main">

<div id="fx"></div>

<div id="content">
<h1>Will you be my Valentine? ‚ù§Ô∏è</h1>

<div id="row">
<img src="bang10.png">
<button id="yesBtn">Yes</button>
</div>

<div id="message"></div>
</div>

<button id="noBtn">Dekhti hu</button>

</div>

<audio id="music" src="music.mp3" loop></audio>

<script>
const main=document.getElementById("main");
const lock=document.getElementById("lock");
const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const msg=document.getElementById("message");
const music=document.getElementById("music");
const fx=document.getElementById("fx");

let armed=false;

/* place beside Yes */
function placeNextToYes(){
 const yRect=yesBtn.getBoundingClientRect();
 const mRect=main.getBoundingClientRect();
 const x=yRect.right-mRect.left+20;
 const y=yRect.top-mRect.top;
 noBtn.style.left=x+"px";
 noBtn.style.top=y+"px";
}

/* unlock */
function unlock(){
 if(document.getElementById("pass").value==="yes"){
  lock.style.display="none";
  main.style.display="block";
  music.volume=0.2;
  music.play().catch(()=>{});
  armed=true;
  startRain();
  requestAnimationFrame(placeNextToYes);
 }
}

/* roam */
noBtn.addEventListener("mouseenter",()=>{
 if(!armed) return;

 const maxX=main.clientWidth-noBtn.offsetWidth;
 const maxY=main.clientHeight-noBtn.offsetHeight;

 noBtn.style.left=Math.random()*maxX+"px";
 noBtn.style.top=Math.random()*maxY+"px";

 laughBurst();
});

/* laugh */
function laughBurst(){
 for(let i=0;i<6;i++) spawn("üòÇ");
}

/* yes */
yesBtn.onclick=()=>{
 armed=false;
 typeText("üòòüòòüòòüòòüòò\n\nGood choice\nNothing feels complete when you‚Äôre not around Bang!\nPrepare yourself. Unlimited hugs and kisses incoming.");
 yesExplosion();
};

/* background rain */
function startRain(){
 setInterval(()=>spawn("üåπ"),200);
 setInterval(()=>spawn("üòò"),250);
 setInterval(()=>spawn("‚ù§Ô∏è"),350);
 setInterval(()=>spawn("‚ú®"),180);
}

/* YES explosion */
function yesExplosion(){
 setInterval(()=>{
  for(let i=0;i<20;i++){
   spawn("üåπ");
   spawn("üòò");
   spawn("‚ù§Ô∏è");
  }
 },350);
}

/* particle */
function spawn(char){
 const e=document.createElement("div");
 e.className="p";
 e.innerHTML=char;
 e.style.left=Math.random()*100+"%";
 fx.appendChild(e);
 setTimeout(()=>e.remove(),7000);
}

/* typing */
function typeText(t){
 msg.innerHTML="";
 let i=0;
 (function loop(){
  if(i<t.length){
   msg.innerHTML+=t[i++];
   setTimeout(loop,35);
  }
 })();
}
</script>

</body>
</html>
